<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Next Page</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
  </head>
  <body>
    <h1>Next Page</h1>
    <p>This is the next page. Use Back to return.</p>

    <button id="back">Back</button>
    <button id="forward">Forward</button>

    <script>
      // The preload exposes goToNextPage on window
      document.getElementById("back").addEventListener("click", () => {
        window.goToNextPage.back();
      });
      document.getElementById("forward").addEventListener("click", () => {
        window.goToNextPage.forward();
      });

      // Update button disabled state if nav updates are sent
      if (window.nav && window.nav.onUpdate) {
        window.nav.onUpdate((state) => {
          document.getElementById("back").disabled = !state.canGoBack;
          document.getElementById("forward").disabled = !state.canGoForward;
        });
      }
    </script>
  </body>
</html>
